<app-header></app-header>

<br><br>
<div class="row">
	
<div class="col-md-4">
	<div class="panel panel-default"  *ngFor="let u of friends,let i=index" data-target="#myModal" (click)="openModel(u)" style="cursor: pointer;">
		<div class="panel-body" style="background-color: #6698bf;">
			<div *ngIf="u.fileName">
			<img height="150" width="200" src="http://localhost/social-media/server{{u.fileName}}">
		</div><h1 >{{u.first_name}} {{u.last_name}}</h1>
			
		</div>
	</div>
</div>

<div class="col-md-8">
	<div class="chat" id="myModal"  [hidden]="!user">
		<div class="row " style="text-align: left;padding-top:5px;font-size: 20px;color: black;background-color: #009688;">
			<h4  class="text-left" *ngIf="user" >{{user.first_name}} {{user.last_name}}</h4>
		</div>
		<ul class="list-group" *ngIf="messages.length">
			<li class="list-group-item" *ngFor="let msg of messages" [ngStyle]="{'text-align':msg.srcId==currentUser._id?'right':'left','float':msg.srcId==currentUser._id?'right':'left','background-color':msg.srcId==currentUser._id?'#795548':'#9faeb3'}" style="width: 65%; margin:7px;  text-align: center;padding-top: 20px;color: black;" >
				<div >
					<p>{{msg.msg}}</p>
				</div>

			</li>
		</ul>
		<div class="input-group-append" style="display: inline-block; float: right; width: 100%">
			<div style="width: calc(100% - 50px);float: left;position: relative;" >
			<i class="far fa-smile" style="position: absolute;right: 0;top: 0;bottom: 0;margin: auto;display: table;"></i>
			<input type="text" name="message" [(ngModel)]="message" style="padding-right: 30px;width: 100%;">
		</div>

			&nbsp;<button type="button" class="btn btn-success" data-dismiss="modal" (click)="sendMessage(user._id)" style="padding: 5px;margin-bottom: 15px;">Send</button>
		</div>


	</div>
</div>
</div>
